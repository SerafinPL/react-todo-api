{"version":3,"sources":["components/AddTask/AddTask.js"],"names":["AddTask","props","inputRef","useRef","setTodoList","useSetRecoilState","listStateMain","useState","input","setInput","redirect","setRedirect","loading","setloading","useEffect","current","focus","console","log","sx","height","flexDirection","bg","padding","textAlign","borderBottom","color","flexGrow","justifyContent","alignItems","Fragment","ref","width","value","onChange","event","target","variant","onClick","axios","post","then","res","oldTodoList","id","data","title","completed","user_id","to","catch","err","exact","style"],"mappings":"sNAyFeA,UA5EC,SAAAC,GAEd,IAAMC,EAAWC,iBAAO,MAElBC,EAAcC,YAAkBC,KAEtC,EAA0BC,mBAAS,IAAnC,mBAAOC,EAAP,KAAcC,EAAd,KACA,EAAgCF,mBAAS,MAAzC,mBAAOG,EAAP,KAAiBC,EAAjB,KACA,EAA8BJ,oBAAS,GAAvC,mBAAOK,EAAP,KAAgBC,EAAhB,KAEAC,qBAAU,WACRZ,EAASa,QAAQC,UACjB,IA+BF,OAFAC,QAAQC,IAAIN,GAGT,eAAC,IAAD,CAAMO,GAAI,CAACC,OAAQ,QAASC,cAAe,UAAcC,GAAG,QAA5D,UACIZ,EAED,cAAC,IAAD,CAAKS,GAAI,CAACC,OAAQ,OAAQG,QAAS,MAAOC,UAAW,SAAUC,aAAc,oBAAqBH,GAAI,cAAeI,MAAM,aAA3H,SAAyI,cAAC,IAAD,kCAEzI,cAAC,IAAD,CAAMP,GAAI,CACFQ,SAAU,EACVN,cAAe,SACfO,eAAgB,SAChBC,WAAY,UAJpB,SAMGjB,EACC,eAAC,IAAMkB,SAAP,WACE,cAAC,IAAD,IAAW,cAAC,IAAD,CAAMX,GAAI,CAACO,MAAM,aAAjB,+BAGb,eAAC,IAAMI,SAAP,WACE,cAAC,IAAD,CAAOC,IAAK7B,EAAUiB,GAAI,CAACa,MAAM,OAASC,MAAOzB,EAAO0B,SAAU,SAACC,GAAD,OAAW1B,EAAS0B,EAAMC,OAAOH,UACnG,cAAC,IAAD,CAAQI,QAAQ,MAAMC,QAAS,WA/C3B,KAAV9B,IACFK,GAAW,GACX0B,IAAMC,KAAK,oBAAqB,CAAC,UAAY,QAAS,MAAQhC,EAAO,QAAU,SAC9EiC,MAAK,SAAAC,GACJjC,EAAS,IAETL,GAAY,SAACuC,GAAD,4BACPA,GADO,CAEV,CACEC,GAAIF,EAAIG,KAAKA,KAAKD,GAClBE,MAAOJ,EAAIG,KAAKA,KAAKC,MACrBC,UAAWL,EAAIG,KAAKA,KAAKE,UACzBC,QAASN,EAAIG,KAAKA,KAAKG,cAI3BnC,GAAW,GACXF,EAAY,cAAC,IAAD,CAAUsC,GAAG,UAE1BC,OAAM,SAAAC,GAAG,OAAIlC,QAAQC,IAAIiC,QA4BlB,gCAGN,cAAC,IAAD,UACE,cAAC,IAAD,CAASF,GAAG,IACVG,MAAOnD,EAAMmD,MACbC,MAAO,CAACrB,MAAO,SAFjB,SAGC,cAAC,IAAD","file":"static/js/3.37cbb5d3.chunk.js","sourcesContent":["import React, { useState,useRef, useEffect} from 'react'\nimport {useSetRecoilState} from 'recoil';\n\nimport axios from '../../axios';\n\nimport {Flex, Box,  Text,  Input, Button, Spinner, Heading } from 'theme-ui'\n\nimport {Redirect} from 'react-router-dom';\n\nimport {NavLink} from 'react-router-dom';\n\nimport {listStateMain} from '../../recoliState';\n\nconst AddTask = props => {\n\n  const inputRef = useRef(null);\n\n  const setTodoList = useSetRecoilState(listStateMain);\n\n  const [input, setInput] = useState('');\n  const [redirect, setRedirect] = useState(null);\n  const [loading, setloading] = useState(false);\n\n  useEffect(() => {\n    inputRef.current.focus();\n  },[]);\n\n  const createToDo = () => {\n    if (input !== '') {\n      setloading(true);\n      axios.post('/users/1292/todos', {\"completed\":\"false\", \"title\":input, \"user_id\":\"1292\" })\n      .then(res => {\n        setInput('');\n        \n        setTodoList((oldTodoList) => [\n          ...oldTodoList,\n          {\n            id: res.data.data.id,\n            title: res.data.data.title,\n            completed: res.data.data.completed,\n            user_id: res.data.data.user_id,\n          },\n        ]);\n\n        setloading(false);\n        setRedirect(<Redirect to='/' />);\n      })\n      .catch(err => console.log(err));\n\n    }\n  }\n\n\n\n  console.log(loading)\n\n  return(\n    \t<Flex sx={{height: '100vh', flexDirection: 'column',  }} bg=\"muted\">\n        {redirect}\n        \n        <Box sx={{height: '77px', padding: '5px', textAlign: 'center', borderBottom: '1px solid #442929', bg: 'nextPrimary', color:'secondary'}}><Heading>Dodawanie zadania</Heading></Box>\n        \n        <Flex sx={{\n                flexGrow: 1,\n                flexDirection: 'column',\n                justifyContent: 'center',\n                alignItems: 'center'\n              }}>\n          {loading ? \n            <React.Fragment>  \n              <Spinner /><Text sx={{color:'secondary'}}>Dodaje Zadanie</Text> \n            </React.Fragment>  \n            :\n            <React.Fragment>  \n              <Input ref={inputRef} sx={{width:'80%',}} value={input} onChange={(event) => setInput(event.target.value)} />\n              <Button variant='add' onClick={() => createToDo()}>Dodaj zadanie</Button>\n            </React.Fragment>}\n        </Flex>\n        <Flex>\n          <NavLink to='/' \n            exact={props.exact}\n            style={{width: '100vw' }}\n          ><Button>Lista Zada≈Ñ</Button></NavLink>\n        </Flex>\n      </Flex>\n  );\n\n}\n\nexport default AddTask;"],"sourceRoot":""}